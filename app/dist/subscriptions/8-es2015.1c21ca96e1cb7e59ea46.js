(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"3IHa":function(t,e,i){"use strict";i.r(e),i.d(e,"PlansModule",(function(){return Ve}));var n=i("ofXK"),o=i("NFeN"),s=i("qFsG"),a=i("rDax"),r=i("+rOU"),c=i("fXoL"),l=i("FKr1"),m=i("cH1L"),u=i("XNiG"),b=i("NXyV"),d=i("LRne"),h=i("pLZG"),p=i("IzEk"),f=i("JX91"),g=i("R0Ic"),_=i("FtGj"),y=i("u47x");function v(t,e){}class C{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const O={dialogContainer:Object(g.n)("dialogContainer",[Object(g.k)("void, exit",Object(g.l)({opacity:0,transform:"scale(0.7)"})),Object(g.k)("enter",Object(g.l)({transform:"none"})),Object(g.m)("* => enter",Object(g.e)("150ms cubic-bezier(0, 0, 0.2, 1)",Object(g.l)({transform:"none",opacity:1}))),Object(g.m)("* => void, * => exit",Object(g.e)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(g.l)({opacity:0})))])};function x(){throw Error("Attempting to attach dialog content after content is already attached")}let w=(()=>{class t extends r.a{constructor(t,e,i,n,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=i,this._config=o,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new c.o,this.attachDomPortal=t=>(this._portalOutlet.hasAttached()&&x(),this._setupFocusTrap(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=n}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&x(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&x(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._focusTrap.focusInitialElement()||this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,i=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==i&&!i.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(c.l),c.Ob(y.f),c.Ob(c.h),c.Ob(n.e,8),c.Ob(C))},t.\u0275cmp=c.Ib({type:t,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var i;1&t&&c.uc(r.b,!0),2&t&&c.nc(i=c.dc())&&(e._portalOutlet=i.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&c.Gb("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(c.Db("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),c.Bc("@dialogContainer",e._state))},features:[c.zb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&c.wc(0,v,0,0,"ng-template",0)},directives:[r.b],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[O.dialogContainer]}}),t})(),T=0;class k{constructor(t,e,i=`mat-dialog-${T++}`){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new u.a,this._afterClosed=new u.a,this._beforeClosed=new u.a,this._state=0,e._id=i,e._animationStateChanged.pipe(Object(h.a)(t=>"done"===t.phaseName&&"enter"===t.toState),Object(p.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Object(h.a)(t=>"done"===t.phaseName&&"exit"===t.toState),Object(p.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Object(h.a)(t=>t.keyCode===_.e&&!this.disableClose&&!Object(_.o)(t))).subscribe(t=>{t.preventDefault(),this.close()}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():this.close()})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Object(h.a)(t=>"start"===t.phaseName),Object(p.a)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const I=new c.r("MatDialogData"),M=new c.r("mat-dialog-default-options"),U=new c.r("mat-dialog-scroll-strategy"),P={provide:U,deps:[a.c],useFactory:function(t){return()=>t.scrollStrategies.block()}};let S=(()=>{class t{constructor(t,e,i,n,o,s,a){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new u.a,this._afterOpenedAtThisLevel=new u.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Object(b.a)(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(Object(f.a)(void 0))),this._scrollStrategy=o}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new C)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const i=this._createOverlay(e),n=this._attachDialogContainer(i,e),o=this._attachDialogContent(t,n,i,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new a.d({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const i=c.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:C,useValue:e}]}),n=new r.c(w,e.viewContainerRef,i,e.componentFactoryResolver);return t.attach(n).instance}_attachDialogContent(t,e,i,n){const o=new k(i,e,n.id);if(t instanceof c.M)e.attachTemplatePortal(new r.g(t,null,{$implicit:n.data,dialogRef:o}));else{const i=this._createInjector(n,o,e),s=e.attachComponentPortal(new r.c(t,n.viewContainerRef,i));o.componentInstance=s.instance}return o.updateSize(n.width,n.height).updatePosition(n.position),o}_createInjector(t,e,i){const n=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:w,useValue:i},{provide:I,useValue:t.data},{provide:k,useValue:e}];return!t.direction||n&&n.get(m.b,null)||o.push({provide:m.b,useValue:{value:t.direction,change:Object(d.a)()}}),c.s.create({parent:n||this._injector,providers:o})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let i=e.length-1;i>-1;i--){let n=e[i];n===t||"SCRIPT"===n.nodeName||"STYLE"===n.nodeName||n.hasAttribute("aria-live")||(this._ariaHiddenElements.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(a.c),c.Yb(c.s),c.Yb(n.i,8),c.Yb(M,8),c.Yb(U),c.Yb(t,12),c.Yb(a.e))},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac}),t})(),D=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},providers:[S,P],imports:[[a.f,r.f,l.f],l.f]}),t})();var j=i("bTqV"),R=i("d3UM"),E=i("/t3+"),q=i("kmnG"),A=i("3Pt+");let F=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},imports:[[A.f,n.c,o.b,s.b,R.b,D,j.b,E.b,q.e,A.o]]}),t})(),L=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},imports:[[A.f,n.c,o.b,R.b,D,j.b,E.b,q.e,A.o]]}),t})();var z=i("C6Ja"),B=i("8LU1"),N=i("quSY"),Y=i("VRyK"),V=i("7Hc7"),H=i("eIep"),$=i("1G5W"),G=i("3E0/"),W=i("nLfN"),X=i("vxfF");const J=["mat-menu-item",""],K=["*"];function Q(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div",0),c.cc("keydown",(function(e){return c.qc(t),c.gc()._handleKeydown(e)}))("click",(function(){return c.qc(t),c.gc().closed.emit("click")}))("@transformMenu.start",(function(e){return c.qc(t),c.gc()._onAnimationStart(e)}))("@transformMenu.done",(function(e){return c.qc(t),c.gc()._onAnimationDone(e)})),c.Ub(1,"div",1),c.kc(2),c.Tb(),c.Tb()}if(2&t){const t=c.gc();c.mc("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),c.Db("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const Z={transformMenu:Object(g.n)("transformMenu",[Object(g.k)("void",Object(g.l)({opacity:0,transform:"scale(0.8)"})),Object(g.m)("void => enter",Object(g.g)([Object(g.i)(".mat-menu-content, .mat-mdc-menu-content",Object(g.e)("100ms linear",Object(g.l)({opacity:1}))),Object(g.e)("120ms cubic-bezier(0, 0, 0.2, 1)",Object(g.l)({transform:"scale(1)"}))])),Object(g.m)("* => void",Object(g.e)("100ms 25ms linear",Object(g.l)({opacity:0})))]),fadeInItems:Object(g.n)("fadeInItems",[Object(g.k)("showing",Object(g.l)({opacity:1})),Object(g.m)("void => *",[Object(g.l)({opacity:0}),Object(g.e)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let tt=(()=>{class t{constructor(t,e,i,n,o,s,a){this._template=t,this._componentFactoryResolver=e,this._appRef=i,this._injector=n,this._viewContainerRef=o,this._document=s,this._changeDetectorRef=a,this._attached=new u.a}attach(t={}){this._portal||(this._portal=new r.g(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new r.d(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(c.M),c.Ob(c.j),c.Ob(c.g),c.Ob(c.s),c.Ob(c.P),c.Ob(n.e),c.Ob(c.h))},t.\u0275dir=c.Jb({type:t,selectors:[["ng-template","matMenuContent",""]]}),t})();const et=new c.r("MAT_MENU_PANEL");class it{}const nt=Object(l.s)(Object(l.t)(it));let ot=(()=>{class t extends nt{constructor(t,e,i,n){super(),this._elementRef=t,this._focusMonitor=i,this._parentMenu=n,this.role="menuitem",this._hovered=new u.a,this._focused=new u.a,this._highlighted=!1,this._triggersSubmenu=!1,i&&i.monitor(this._elementRef,!1),n&&n.addItem&&n.addItem(this),this._document=e}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3;let i="";if(t.childNodes){const n=t.childNodes.length;for(let o=0;o<n;o++)t.childNodes[o].nodeType===e&&(i+=t.childNodes[o].textContent)}return i.trim()}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(c.l),c.Ob(n.e),c.Ob(y.e),c.Ob(et,8))},t.\u0275cmp=c.Ib({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&c.cc("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(c.Db("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),c.Fb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[c.zb],attrs:J,ngContentSelectors:K,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(c.lc(),c.kc(0),c.Pb(1,"div",0)),2&t&&(c.Cb(1),c.mc("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[l.n],encapsulation:2,changeDetection:0}),t})();const st=new c.r("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let at=0,rt=(()=>{class t{constructor(t,e,i){this._elementRef=t,this._ngZone=e,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new c.E,this._tabSubscription=N.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new u.a,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new c.o,this.close=this.closed,this.panelId=`mat-menu-panel-${at++}`}get xPosition(){return this._xPosition}set xPosition(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Object(B.c)(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Object(B.c)(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new y.d(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Object(f.a)(this._directDescendantItems),Object(H.a)(t=>Object(Y.a)(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Object(f.a)(this._directDescendantItems),Object(H.a)(t=>Object(Y.a)(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,i=this._keyManager;switch(e){case _.e:Object(_.o)(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case _.g:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case _.i:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case _.f:case _.c:Object(_.o)(t)||(e===_.f?i.setFirstItemActive():i.setLastItemActive(),t.preventDefault());break;default:e!==_.l&&e!==_.b||i.setFocusOrigin("keyboard"),i.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.asObservable().pipe(Object(p.a)(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e=`mat-elevation-z${Math.min(4+t,24)}`,i=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));i&&i!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===t,i["mat-menu-after"]="after"===t,i["mat-menu-above"]="above"===e,i["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Object(f.a)(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(c.l),c.Ob(c.A),c.Ob(st))},t.\u0275dir=c.Jb({type:t,contentQueries:function(t,e,i){var n;1&t&&(c.Hb(i,tt,!0),c.Hb(i,ot,!0),c.Hb(i,ot,!1)),2&t&&(c.nc(n=c.dc())&&(e.lazyContent=n.first),c.nc(n=c.dc())&&(e._allItems=n),c.nc(n=c.dc())&&(e.items=n))},viewQuery:function(t,e){var i;1&t&&c.Cc(c.M,!0),2&t&&c.nc(i=c.dc())&&(e.templateRef=i.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),ct=(()=>{class t extends rt{}return t.\u0275fac=function(e){return lt(e||t)},t.\u0275dir=c.Jb({type:t,features:[c.zb]}),t})();const lt=c.Wb(ct);let mt=(()=>{class t extends ct{constructor(t,e,i){super(t,e,i)}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(c.l),c.Ob(c.A),c.Ob(st))},t.\u0275cmp=c.Ib({type:t,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[c.Bb([{provide:et,useExisting:ct},{provide:ct,useExisting:t}]),c.zb],ngContentSelectors:K,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(c.lc(),c.wc(0,Q,3,6,"ng-template"))},directives:[n.k],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[Z.transformMenu,Z.fadeInItems]},changeDetection:0}),t})();const ut=new c.r("mat-menu-scroll-strategy"),bt={provide:ut,deps:[a.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},dt=Object(W.f)({passive:!0});let ht=(()=>{class t{constructor(t,e,i,n,o,s,a,r){this._overlay=t,this._element=e,this._viewContainerRef=i,this._parentMenu=o,this._menuItemInstance=s,this._dir=a,this._focusMonitor=r,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=N.a.EMPTY,this._hoverSubscription=N.a.EMPTY,this._menuCloseSubscription=N.a.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new c.o,this.onMenuOpen=this.menuOpened,this.menuClosed=new c.o,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,dt),s&&(s._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=n}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,dt),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof ct&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),t instanceof ct?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(Object(h.a)(t=>"void"===t.toState),Object(p.a)(1),Object($.a)(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new a.d({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,i]="before"===this.menu.xPosition?["end","start"]:["start","end"],[n,o]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[s,a]=[n,o],[r,c]=[e,i],l=0;this.triggersSubmenu()?(c=e="before"===this.menu.xPosition?"start":"end",i=r="end"===e?"start":"end",l="bottom"===n?8:-8):this.menu.overlapTrigger||(s="top"===n?"bottom":"top",a="top"===o?"bottom":"top"),t.withPositions([{originX:e,originY:s,overlayX:r,overlayY:n,offsetY:l},{originX:i,originY:s,overlayX:c,overlayY:n,offsetY:l},{originX:e,originY:a,overlayX:r,overlayY:o,offsetY:-l},{originX:i,originY:a,overlayX:c,overlayY:o,offsetY:-l}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),i=this._parentMenu?this._parentMenu.closed:Object(d.a)(),n=this._parentMenu?this._parentMenu._hovered().pipe(Object(h.a)(t=>t!==this._menuItemInstance),Object(h.a)(()=>this._menuOpen)):Object(d.a)();return Object(Y.a)(t,i,n,e)}_handleMousedown(t){Object(y.i)(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(e===_.i&&"ltr"===this.dir||e===_.g&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Object(h.a)(t=>t===this._menuItemInstance&&!t.disabled),Object(G.a)(0,V.a)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof ct&&this.menu._isAnimating?this.menu._animationDone.pipe(Object(p.a)(1),Object(G.a)(0,V.a),Object($.a)(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new r.g(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(a.c),c.Ob(c.l),c.Ob(c.P),c.Ob(ut),c.Ob(ct,8),c.Ob(ot,10),c.Ob(m.b,8),c.Ob(y.e))},t.\u0275dir=c.Jb({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&c.cc("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&c.Db("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),pt=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},providers:[bt],imports:[l.f]}),t})(),ft=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},providers:[bt],imports:[[n.c,l.f,l.o,a.f,pt],X.b,l.f,pt]}),t})();var gt=i("+0xr");let _t=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),yt=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},imports:[[n.c,o.b,l.o]]}),t})(),vt=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},imports:[[A.f,n.c,o.b,R.b,D,j.b,E.b,q.e,A.o]]}),t})(),Ct=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},imports:[[n.c,o.b,gt.l,D,R.b,j.b,E.b]]}),t})();var Ot=i("mrSG"),xt=i("AytR"),wt=i("dWDE");function Tt(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.email," ")}}function kt(t,e){if(1&t&&(c.Ub(0,"mat-option",10),c.xc(1),c.Tb()),2&t){const t=e.$implicit;c.mc("value",t.value)("disabled",5==t.value),c.Cb(1),c.zc(" ",t.title," ")}}function It(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.role," ")}}let Mt=(()=>{class t{constructor(t,e){this.dialog=t,this.formerror=e,this.form=new A.d({role:new A.b(1,[A.q.required]),email:new A.b("",[A.q.required,A.q.email])}),this.roles=xt.a.roles,this.errors={role:"",email:""},this.invoices={}}close(){this.dialog.close(!1)}submit(){this.dialog.close(this.form.value)}ngOnInit(){this.invoices.form=this.form.valueChanges.subscribe(t=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)})}ngOnDestroy(){this.invoices.form.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(k),c.Ob(wt.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-share"]],decls:20,vars:4,consts:[["color","primary"],[1,"spacer"],["type","button","mat-icon-button","",3,"click"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","email","name","email","placeholder","email","formControlName","email","required",""],[4,"ngIf"],["name","role","placeholder","role","formControlName","role","required",""],[3,"value","disabled",4,"ngFor","ngForOf"],["type","submit","mat-flat-button","","color","primary"],[3,"value","disabled"]],template:function(t,e){1&t&&(c.Ub(0,"mat-toolbar",0),c.Ub(1,"div",1),c.xc(2," share "),c.Tb(),c.Ub(3,"button",2),c.cc("click",(function(){return e.close()})),c.Ub(4,"mat-icon"),c.xc(5,"close"),c.Tb(),c.Tb(),c.Tb(),c.Ub(6,"form",3),c.cc("ngSubmit",(function(){return!e.form.invalid&&e.submit()})),c.Ub(7,"mat-form-field",4),c.Ub(8,"mat-label"),c.xc(9," Email "),c.Tb(),c.Pb(10,"input",5),c.wc(11,Tt,2,1,"mat-error",6),c.Tb(),c.Ub(12,"mat-form-field",4),c.Ub(13,"mat-label"),c.xc(14," Role "),c.Tb(),c.Ub(15,"mat-select",7),c.wc(16,kt,2,3,"mat-option",8),c.Tb(),c.wc(17,It,2,1,"mat-error",6),c.Tb(),c.Ub(18,"button",9),c.xc(19," submit "),c.Tb(),c.Tb()),2&t&&(c.Cb(6),c.mc("formGroup",e.form),c.Cb(5),c.mc("ngIf",e.errors.email),c.Cb(5),c.mc("ngForOf",e.roles),c.Cb(1),c.mc("ngIf",e.errors.role))},directives:[E.a,j.a,o.a,A.r,A.k,A.e,q.c,q.g,s.a,A.a,A.j,A.c,A.p,n.m,R.a,n.l,q.b,l.j],styles:[""]}),t})();function Ut(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.confirm," ")}}let Pt=(()=>{class t{constructor(t,e){this.dialog=t,this.formerror=e,this.form=new A.d({confirm:new A.b(!1,[A.q.required])}),this.errors={confirm:""},this.invoices={}}close(){this.dialog.close(!1)}submit(){this.dialog.close(this.form.value.confirm)}ngOnInit(){this.invoices.form=this.form.valueChanges.subscribe(t=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)})}ngOnDestroy(){this.invoices.form.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(k),c.Ob(wt.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-delete"]],decls:18,vars:5,consts:[["color","primary"],[1,"spacer"],["type","button","mat-icon-button","",3,"click"],[3,"formGroup","ngSubmit"],["appearance","outline"],["name","confirm","placeholder","confirm","formControlName","confirm","required",""],[3,"value"],[4,"ngIf"],["type","submit","mat-flat-button","","color","primary",3,"disabled"]],template:function(t,e){1&t&&(c.Ub(0,"mat-toolbar",0),c.Ub(1,"div",1),c.xc(2," delete "),c.Tb(),c.Ub(3,"button",2),c.cc("click",(function(){return e.close()})),c.Ub(4,"mat-icon"),c.xc(5,"close"),c.Tb(),c.Tb(),c.Tb(),c.Ub(6,"form",3),c.cc("ngSubmit",(function(){return!e.form.invalid&&e.submit()})),c.Ub(7,"mat-form-field",4),c.Ub(8,"mat-label"),c.xc(9," Confirm Delete "),c.Tb(),c.Ub(10,"mat-select",5),c.Ub(11,"mat-option",6),c.xc(12," Delete Now "),c.Tb(),c.Ub(13,"mat-option",6),c.xc(14," Don't Delete "),c.Tb(),c.Tb(),c.wc(15,Ut,2,1,"mat-error",7),c.Tb(),c.Ub(16,"button",8),c.xc(17," submit "),c.Tb(),c.Tb()),2&t&&(c.Cb(6),c.mc("formGroup",e.form),c.Cb(5),c.mc("value",!0),c.Cb(2),c.mc("value",!1),c.Cb(2),c.mc("ngIf",e.errors.confirm),c.Cb(1),c.mc("disabled",!e.form.value.confirm))},directives:[E.a,j.a,o.a,A.r,A.k,A.e,q.c,q.g,R.a,A.j,A.c,A.p,l.j,n.m,q.b],styles:[""]}),t})();var St=i("RZmA"),Dt=i("9ZKQ"),jt=i("WF9o");function Rt(t,e){1&t&&(c.Ub(0,"th",11),c.xc(1," Email "),c.Tb())}function Et(t,e){if(1&t&&(c.Ub(0,"td",12),c.xc(1),c.Tb()),2&t){const t=e.$implicit;c.Cb(1),c.zc(" ",t.email," ")}}function qt(t,e){1&t&&(c.Ub(0,"th",11),c.xc(1," Role "),c.Tb())}function At(t,e){if(1&t&&(c.Ub(0,"mat-option",15),c.xc(1),c.Tb()),2&t){const t=e.$implicit;c.mc("value",t.value)("disabled",t.value<t||5==t.value),c.Cb(1),c.zc(" ",t.title," ")}}function Ft(t,e){if(1&t){const t=c.Vb();c.Ub(0,"td",12),c.Ub(1,"mat-select",13),c.cc("selectionChange",(function(i){c.qc(t);const n=e.$implicit;return c.gc().updatesubscriber(n.email,i)})),c.wc(2,At,2,3,"mat-option",14),c.Tb(),c.Tb()}if(2&t){const t=e.$implicit,i=c.gc();c.Cb(1),c.mc("value",t.role)("disabled",i.email==t.email||i.role<4||i.role<=t.role),c.Cb(1),c.mc("ngForOf",i.roles)}}function Lt(t,e){1&t&&c.Pb(0,"th",11)}function zt(t,e){if(1&t){const t=c.Vb();c.Ub(0,"td",12),c.Ub(1,"button",16),c.cc("click",(function(){c.qc(t);const i=e.$implicit;return c.gc().unsubscribe(i.email)})),c.Ub(2,"mat-icon"),c.xc(3,"remove"),c.Tb(),c.Tb(),c.Tb()}if(2&t){const t=e.$implicit,i=c.gc();c.Cb(1),c.mc("disabled",i.email==t.email||i.role<=t.role||i.role<4||5==t.role)}}function Bt(t,e){1&t&&c.Pb(0,"tr",17)}function Nt(t,e){1&t&&c.Pb(0,"tr",18)}let Yt=(()=>{class t{constructor(t,e,i,n){this.toast=t,this.dialog=e,this.config=i,this.localstorage=n,this.role=0,this.email=this.localstorage.get("email"),this.roles=xt.a.roles,this.users=new gt.k,this.columns=["email","role","remove"]}close(){this.dialog.close()}get(){return Object(Ot.a)(this,void 0,void 0,(function*(){this.loading=!0;let t={filter:["role","users"]};switch(this.config.type){case"plan":t.planId=this.config.id}const e=yield this.config.service.get(t);this.loading=!1,e.ok?(this.role=e.result.role,this.role<4?(this.close(),this.toast.error("insufficient role")):(this.role=e.result.role,this.users.data=e.result.users)):this.toast.error("issue loading users")}))}unsubscribe(t){return Object(Ot.a)(this,void 0,void 0,(function*(){this.loading=!0;let e={email:t};switch(this.config.type){case"plan":e.planId=this.config.id}const i=yield this.config.service.unsubscribe(e);if(this.loading=!1,i.ok){for(let e=0;e<this.users.data.length;e++)if(this.users.data[e].email==t){this.users.data.splice(e,1);break}this.users.data=JSON.parse(JSON.stringify(this.users.data)),this.toast.success("user was unsubscribed")}else this.toast.error("issue unsubscribing user")}))}updatesubscriber(t,e){return Object(Ot.a)(this,void 0,void 0,(function*(){this.loading=!0;let i={role:e.value,email:t};switch(this.config.type){case"plan":i.planId=this.config.id}const n=yield this.config.service.get(i);this.loading=!1,n.ok?this.toast.success("user role updated"):this.toast.error("issue updating user role")}))}ngOnInit(){this.get()}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(Dt.a),c.Ob(k),c.Ob(I),c.Ob(jt.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-subscribers"]],decls:18,vars:4,consts:[["color","primary"],[1,"spacer"],["type","button","mat-icon-button","",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","email"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","role"],["matColumnDef","remove"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"value","disabled","selectionChange"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],["type","button","color","warn","mat-icon-button","",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(c.Ub(0,"mat-toolbar",0),c.Ub(1,"div",1),c.xc(2," subscribers "),c.Tb(),c.Ub(3,"button",2),c.cc("click",(function(){return e.close()})),c.Ub(4,"mat-icon"),c.xc(5,"close"),c.Tb(),c.Tb(),c.Tb(),c.Ub(6,"table",3),c.Sb(7,4),c.wc(8,Rt,2,0,"th",5),c.wc(9,Et,2,1,"td",6),c.Rb(),c.Sb(10,7),c.wc(11,qt,2,0,"th",5),c.wc(12,Ft,3,3,"td",6),c.Rb(),c.Sb(13,8),c.wc(14,Lt,1,0,"th",5),c.wc(15,zt,4,1,"td",6),c.Rb(),c.wc(16,Bt,1,0,"tr",9),c.wc(17,Nt,1,0,"tr",10),c.Tb()),2&t&&(c.Cb(6),c.mc("dataSource",e.users),c.Cb(10),c.mc("matHeaderRowDef",e.columns)("matHeaderRowDefSticky",!0),c.Cb(1),c.mc("matRowDefColumns",e.columns))},directives:[E.a,j.a,o.a,gt.j,gt.c,gt.e,gt.b,gt.g,gt.i,gt.d,gt.a,R.a,n.l,l.j,gt.f,gt.h],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-column-role[_ngcontent-%COMP%]{flex:1 150px;width:150px}.mat-column-remove[_ngcontent-%COMP%]{flex:1 40px;width:40px}.mat-select-disabled[_ngcontent-%COMP%]{background:transparent!important}"]}),t})();function Vt(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.confirm," ")}}let Ht=(()=>{class t{constructor(t,e){this.dialog=t,this.formerror=e,this.form=new A.d({confirm:new A.b(!1,[A.q.required])}),this.errors={confirm:""},this.invoices={}}close(){this.dialog.close(!1)}submit(){this.dialog.close(this.form.value.confirm)}ngOnInit(){this.invoices.form=this.form.valueChanges.subscribe(t=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)})}ngOnDestroy(){this.invoices.form.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(k),c.Ob(wt.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-unsubscribe"]],decls:18,vars:5,consts:[["color","primary"],[1,"spacer"],["type","button","mat-icon-button","",3,"click"],[3,"formGroup","ngSubmit"],["appearance","outline"],["name","confirm","placeholder","confirm","formControlName","confirm","required",""],[3,"value"],[4,"ngIf"],["type","submit","mat-flat-button","","color","primary",3,"disabled"]],template:function(t,e){1&t&&(c.Ub(0,"mat-toolbar",0),c.Ub(1,"div",1),c.xc(2," unsubscribe "),c.Tb(),c.Ub(3,"button",2),c.cc("click",(function(){return e.close()})),c.Ub(4,"mat-icon"),c.xc(5,"close"),c.Tb(),c.Tb(),c.Tb(),c.Ub(6,"form",3),c.cc("ngSubmit",(function(){return!e.form.invalid&&e.submit()})),c.Ub(7,"mat-form-field",4),c.Ub(8,"mat-label"),c.xc(9," Confirm Unsubscribe "),c.Tb(),c.Ub(10,"mat-select",5),c.Ub(11,"mat-option",6),c.xc(12," Unsubscribe Now "),c.Tb(),c.Ub(13,"mat-option",6),c.xc(14," Don't Unsubscribe "),c.Tb(),c.Tb(),c.wc(15,Vt,2,1,"mat-error",7),c.Tb(),c.Ub(16,"button",8),c.xc(17," submit "),c.Tb(),c.Tb()),2&t&&(c.Cb(6),c.mc("formGroup",e.form),c.Cb(5),c.mc("value",!0),c.Cb(2),c.mc("value",!1),c.Cb(2),c.mc("ngIf",e.errors.confirm),c.Cb(1),c.mc("disabled",!e.form.value.confirm))},directives:[E.a,j.a,o.a,A.r,A.k,A.e,q.c,q.g,R.a,A.j,A.c,A.p,l.j,n.m,q.b],styles:[""]}),t})();var $t=i("0MNC");function Gt(t,e){}const Wt=new c.r("MatBottomSheetData");class Xt{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}const Jt={bottomSheetState:Object(g.n)("state",[Object(g.k)("void, hidden",Object(g.l)({transform:"translateY(100%)"})),Object(g.k)("visible",Object(g.l)({transform:"translateY(0%)"})),Object(g.m)("visible => void, visible => hidden",Object(g.e)(`${l.b.COMPLEX} ${l.a.ACCELERATION_CURVE}`)),Object(g.m)("void => visible",Object(g.e)(`${l.b.EXITING} ${l.a.DECELERATION_CURVE}`))])};let Kt=(()=>{class t extends r.a{constructor(t,e,i,n,o,s){super(),this._elementRef=t,this._changeDetectorRef=e,this._focusTrapFactory=i,this.bottomSheetConfig=s,this._animationState="void",this._animationStateChanged=new c.o,this._elementFocusedBeforeOpened=null,this.attachDomPortal=t=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(t)),this._document=o,this._breakpointSubscription=n.observe([$t.b.Medium,$t.b.Large,$t.b.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",n.isMatched($t.b.Medium)),this._toggleClass("mat-bottom-sheet-container-large",n.isMatched($t.b.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",n.isMatched($t.b.XLarge))})}attachComponentPortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_toggleClass(t,e){const i=this._elementRef.nativeElement.classList;e?i.add(t):i.remove(t)}_validatePortalAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach bottom sheet content after content is already attached")}_setPanelClass(){const t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach(e=>t.classList.add(e)):e&&t.classList.add(e)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,i=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==i&&!i.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(c.l),c.Ob(c.h),c.Ob(y.f),c.Ob($t.a),c.Ob(n.e,8),c.Ob(Xt))},t.\u0275cmp=c.Ib({type:t,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(t,e){var i;1&t&&c.uc(r.b,!0),2&t&&c.nc(i=c.dc())&&(e._portalOutlet=i.first)},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(t,e){1&t&&c.Gb("@state.start",(function(t){return e._onAnimationStart(t)}))("@state.done",(function(t){return e._onAnimationDone(t)})),2&t&&(c.Db("aria-label",null==e.bottomSheetConfig?null:e.bottomSheetConfig.ariaLabel),c.Bc("@state",e._animationState))},features:[c.zb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&c.wc(0,Gt,0,0,"ng-template",0)},directives:[r.b],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[Jt.bottomSheetState]},changeDetection:0}),t})(),Qt=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},imports:[[a.f,l.f,r.f],l.f]}),t})();class Zt{constructor(t,e,i){this._overlayRef=e,this._afterDismissed=new u.a,this._afterOpened=new u.a,this.containerInstance=t,this.disableClose=t.bottomSheetConfig.disableClose,t._animationStateChanged.pipe(Object(h.a)(t=>"done"===t.phaseName&&"visible"===t.toState),Object(p.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Object(h.a)(t=>"done"===t.phaseName&&"hidden"===t.toState),Object(p.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),e.dispose()}),e.detachments().pipe(Object(p.a)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),Object(Y.a)(e.backdropClick(),e.keydownEvents().pipe(Object(h.a)(t=>t.keyCode===_.e))).subscribe(t=>{this.disableClose||"keydown"===t.type&&Object(_.o)(t)||(t.preventDefault(),this.dismiss())})}dismiss(t){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe(Object(h.a)(t=>"start"===t.phaseName),Object(p.a)(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},t.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this._afterOpened.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const te=new c.r("mat-bottom-sheet-default-options");let ee=(()=>{class t{constructor(t,e,i,n,o){this._overlay=t,this._injector=e,this._parentBottomSheet=i,this._location=n,this._defaultOptions=o,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,e){const i=function(t,e){return Object.assign(Object.assign({},t),e)}(this._defaultOptions||new Xt,e),n=this._createOverlay(i),o=this._attachContainer(n,i),s=new Zt(o,n,this._location);if(t instanceof c.M)o.attachTemplatePortal(new r.g(t,null,{$implicit:i.data,bottomSheetRef:s}));else{const e=new r.c(t,void 0,this._createInjector(i,s)),n=o.attachComponentPortal(e);s.instance=n.instance}return s.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==s&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>s.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):s.containerInstance.enter(),this._openedBottomSheetRef=s,s}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(t,e){const i=new r.e(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[Xt,e]])),n=new r.c(Kt,e.viewContainerRef,i);return t.attach(n).instance}_createOverlay(t){const e=new a.d({direction:t.direction,hasBackdrop:t.hasBackdrop,disposeOnNavigation:t.closeOnNavigation,maxWidth:"100%",scrollStrategy:t.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return t.backdropClass&&(e.backdropClass=t.backdropClass),this._overlay.create(e)}_createInjector(t,e){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,n=new WeakMap([[Zt,e],[Wt,t.data]]);return!t.direction||i&&i.get(m.b,null)||n.set(m.b,{value:t.direction,change:Object(d.a)()}),new r.e(i||this._injector,n)}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(a.c),c.Yb(c.s),c.Yb(t,12),c.Yb(n.i,8),c.Yb(te,8))},t.\u0275prov=Object(c.Kb)({factory:function(){return new t(Object(c.Yb)(a.c),Object(c.Yb)(c.p),Object(c.Yb)(t,12),Object(c.Yb)(n.i,8),Object(c.Yb)(te,8))},token:t,providedIn:Qt}),t})();function ie(t,e){if(1&t&&(c.Ub(0,"mat-icon"),c.xc(1),c.Tb()),2&t){const t=c.gc().$implicit;c.Cb(1),c.yc(t.icon)}}function ne(t,e){if(1&t){const t=c.Vb();c.Ub(0,"li",2),c.cc("click",(function(){c.qc(t);const i=e.$implicit,n=c.gc();return!i.disabled&&n.submit(i.optionId)})),c.wc(1,ie,2,1,"mat-icon",3),c.Ub(2,"span",0),c.xc(3),c.Tb(),c.Tb()}if(2&t){const t=e.$implicit;c.Fb("disabled",t.disabled),c.mc("matRippleDisabled",t.disabled),c.Cb(1),c.mc("ngIf",t.icon),c.Cb(2),c.zc(" ",t.title," ")}}let oe=(()=>{class t{constructor(t,e){this.sheet=t,this.data=e,this.options=[]}submit(t){this.sheet.dismiss(t)}ngOnInit(){this.title=this.data.title,this.options=this.data.options.map(t=>(t.disabled=t.disabled.indexOf(this.data.role)>-1,t))}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(Zt),c.Ob(Wt))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-bottom-sheet"]],decls:4,vars:2,consts:[["text-uppercase",""],["text-capitalize","","matRipple","",3,"disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],["text-capitalize","","matRipple","",3,"matRippleDisabled","click"],[4,"ngIf"]],template:function(t,e){1&t&&(c.Ub(0,"h1",0),c.xc(1),c.Tb(),c.Ub(2,"ul"),c.wc(3,ne,4,5,"li",1),c.Tb()),2&t&&(c.Cb(1),c.zc(" ",e.title,"\n"),c.Cb(2),c.mc("ngForOf",e.options))},directives:[n.l,l.n,n.m,o.a],styles:["h1[_ngcontent-%COMP%]{margin:0 16px;font-size:16px;text-transform:uppercase}ul[_ngcontent-%COMP%]{margin:0;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#424242;cursor:pointer;height:50px;display:flex;align-items:center;border-bottom:1px solid #f5f5f5;flex-direction:row;list-style-type:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#424242;margin:0 15px}ul[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9e9e9e}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}"]}),t})();var se=i("d3yR"),ae=i("tyNb"),re=i("MmWn"),ce=i("bv9b");function le(t,e){1&t&&c.Pb(0,"mat-progress-bar",14)}function me(t,e){1&t&&(c.Ub(0,"th",15),c.xc(1," id "),c.Tb())}function ue(t,e){if(1&t&&(c.Ub(0,"td",16),c.xc(1),c.Tb()),2&t){const t=e.$implicit;c.Cb(1),c.zc(" ",t.planId," ")}}function be(t,e){1&t&&(c.Ub(0,"th",15),c.xc(1," title "),c.Tb())}function de(t,e){if(1&t&&(c.Ub(0,"td",16),c.xc(1),c.Tb()),2&t){const t=e.$implicit;c.Cb(1),c.zc(" ",t.title," ")}}function he(t,e){1&t&&c.Pb(0,"tr",17)}function pe(t,e){if(1&t){const t=c.Vb();c.Ub(0,"tr",18),c.cc("click",(function(){c.qc(t);const i=e.$implicit;return c.gc().options(i)})),c.Tb()}}let fe=(()=>{class t{constructor(t,e,i,n,o,s,a){this.menu=t,this.toast=e,this.sheet=i,this.dialog=n,this.router=o,this.service=s,this.localstorage=a,this.sort={key:"title",reverse:!1},this.plans=new gt.k,this.columns=["id","title"],this.invoices={}}list(){return Object(Ot.a)(this,void 0,void 0,(function*(){this.loading=!0;const t=yield this.service.list({sort:{[this.sort.key]:this.sort.reverse?-1:1},filter:["role","title","planId"]});this.loading=!1,this.plans.data=t.ok?t.result:[]}))}options(t){return Object(Ot.a)(this,void 0,void 0,(function*(){const e=yield this.sheet.open(oe,{data:{role:t.role,title:t.title,options:[{icon:"create",title:"Edit",disabled:[0,1],optionId:0},{icon:"file_copy",title:"Copy",disabled:[0,1,2],optionId:1},{icon:"share",title:"Share",disabled:[0,1,2,3],optionId:2},{icon:"people",title:"Subscribers",disabled:[0,1,2,3],optionId:3},{icon:"delete",title:"Delete",disabled:[0,1,2,3,4],optionId:4},{icon:"remove",title:"Unsubscribe",disabled:[5],optionId:5}]}});yield e.afterDismissed().subscribe(e=>Object(Ot.a)(this,void 0,void 0,(function*(){if(void 0!==e)switch(e){case 0:this.router.navigate(["/plans","update",t.planId]);break;case 1:this.router.navigate(["/plans","copy",t.planId]);break;case 2:const e=yield this.dialog.open(Mt,{panelClass:"share-dialog",disableClose:!0});yield e.afterClosed().subscribe(e=>Object(Ot.a)(this,void 0,void 0,(function*(){if(e){this.loading=!0;const i=yield this.service.share({role:e.role,email:e.email,planId:t.planId});this.loading=!1,i.ok?this.toast.success("user was shared to plan!"):this.toast.error("issue sharing user to plan!")}})));break;case 3:yield this.dialog.open(Yt,{data:{id:t.planId,type:"plan",service:this.service},panelClass:"subscribers-dialog",disableClose:!0});break;case 4:const i=yield this.dialog.open(Pt,{panelClass:"delete-dialog",disableClose:!0});yield i.afterClosed().subscribe(e=>Object(Ot.a)(this,void 0,void 0,(function*(){if(e){this.loading=!0;const e=yield this.service.delete({planId:t.planId});if(this.loading=!1,e.ok){this.toast.success("plan was deleted!");for(let e=0;e<this.plans.data.length;e++)if(this.plans.data[e].planId==t.planId){this.plans.data.splice(e,1);break}this.plans.data=JSON.parse(JSON.stringify(this.plans.data))}else this.toast.error("issue deleting plan!")}})));break;case 5:const n=yield this.dialog.open(Ht,{panelClass:"unsubscribe-dialog",disableClose:!0});yield n.afterClosed().subscribe(e=>Object(Ot.a)(this,void 0,void 0,(function*(){if(e){this.loading=!0;const e=yield this.service.unsubscribe({email:this.localstorage.get("email"),planId:t.planId});if(this.loading=!1,e.ok){this.toast.success("you were unsubscribed from plan!");for(let e=0;e<this.plans.data.length;e++)if(this.plans.data[e].planId==t.planId){this.plans.data.splice(e,1);break}this.plans.data=JSON.parse(JSON.stringify(this.plans.data))}else this.toast.error("issue unsubscribing from plan!")}})))}})))}))}ngOnInit(){this.list(),this.invoices.search=this.search.change.subscribe(t=>{this.plans.filter=t})}ngOnDestroy(){this.invoices.search.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(se.a),c.Ob(Dt.a),c.Ob(ee),c.Ob(S),c.Ob(ae.b),c.Ob(re.a),c.Ob(jt.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-plans-page"]],viewQuery:function(t,e){var i;1&t&&c.uc(St.a,!0),2&t&&c.nc(i=c.dc())&&(e.search=i.first)},decls:21,vars:5,consts:[["color","primary"],["mat-icon-button","",1,"menu-toggle",3,"click"],[1,"page-label","spacer"],["placeholder","filter plans"],["mat-icon-button","","routerLink","add"],["mode","indeterminate","color","accent",4,"ngIf"],[1,"page-body"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","text-uppercase","",4,"matHeaderCellDef"],["mat-cell","","text-uppercase","",4,"matCellDef"],["matColumnDef","title"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mode","indeterminate","color","accent"],["mat-header-cell","","text-uppercase",""],["mat-cell","","text-uppercase",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,e){1&t&&(c.Ub(0,"mat-toolbar",0),c.Ub(1,"button",1),c.cc("click",(function(){return e.menu.toggle()})),c.Ub(2,"mat-icon"),c.xc(3," menu "),c.Tb(),c.Tb(),c.Ub(4,"div",2),c.xc(5," plans "),c.Tb(),c.Pb(6,"search",3),c.Ub(7,"button",4),c.Ub(8,"mat-icon"),c.xc(9," add "),c.Tb(),c.Tb(),c.Tb(),c.wc(10,le,1,0,"mat-progress-bar",5),c.Ub(11,"div",6),c.Ub(12,"table",7),c.Sb(13,8),c.wc(14,me,2,0,"th",9),c.wc(15,ue,2,1,"td",10),c.Rb(),c.Sb(16,11),c.wc(17,be,2,0,"th",9),c.wc(18,de,2,1,"td",10),c.Rb(),c.wc(19,he,1,0,"tr",12),c.wc(20,pe,1,0,"tr",13),c.Tb(),c.Tb()),2&t&&(c.Cb(10),c.mc("ngIf",e.loading),c.Cb(2),c.mc("dataSource",e.plans),c.Cb(7),c.mc("matHeaderRowDef",e.columns)("matHeaderRowDefSticky",!0),c.Cb(1),c.mc("matRowDefColumns",e.columns))},directives:[E.a,j.a,o.a,St.a,ae.c,n.m,gt.j,gt.c,gt.e,gt.b,gt.g,gt.i,ce.a,gt.d,gt.a,gt.f,gt.h],styles:[".mat-column-id[_ngcontent-%COMP%]{width:250px}.mat-row[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();function ge(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.key," ")}}function _e(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.title," ")}}function ye(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.limit_min," ")}}function ve(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.limit_max," ")}}function Ce(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.limit_reset," ")}}function Oe(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.amount," ")}}function xe(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.quantity," ")}}function we(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.promotion_enabled," ")}}function Te(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.promotion_amount," ")}}function ke(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.description," ")}}let Ie=(()=>{class t{constructor(t,e,i){this.dialog=t,this.config=e,this.formerror=i,this.mode=this.config.mode,this.form=new A.d({key:new A.b(this.config.key,[A.q.required]),title:new A.b(this.config.tariff.title,[A.q.required]),amount:new A.b(this.config.tariff.amount,[A.q.required]),quantity:new A.b(this.config.tariff.quantity,[A.q.required]),limit_min:new A.b(this.config.tariff.limit.min,[A.q.required]),limit_max:new A.b(this.config.tariff.limit.max,[A.q.required]),limit_reset:new A.b(this.config.tariff.limit.reset,[A.q.required]),description:new A.b(this.config.tariff.description,[A.q.required]),promotion_amount:new A.b(this.config.tariff.promotion.amount,[A.q.required]),promotion_enabled:new A.b(this.config.tariff.promotion.enabled,[A.q.required])}),this.errors={key:"",title:"",amount:"",quantity:"",limit_min:"",limit_max:"",limit_reset:"",description:"",promotion_amount:"",promotion_enabled:""},this.invoices={}}close(){this.dialog.close(!1)}submit(){this.dialog.close({tariff:{limit:{min:this.form.value.limit_min,max:this.form.value.limit_max,reset:this.form.value.limit_reset},promotion:{amount:this.form.value.promotion_amount,enabled:this.form.value.promotion_enabled},title:this.form.value.title,amount:this.form.value.amount,quantity:this.form.value.quantity,description:this.form.value.description},key:this.form.value.key,mode:this.mode})}ngOnInit(){this.invoices.form=this.form.valueChanges.subscribe(t=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)})}ngOnDestroy(){this.invoices.form.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(k),c.Ob(I),c.Ob(wt.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-tariff-dialog"]],decls:71,vars:18,consts:[["color","primary"],[1,"page-label","spacer"],["mat-icon-button","",3,"click"],[3,"formGroup","ngSubmit"],["appearance","outline"],["text-uppercase",""],["matInput","","type","text","name","key","placeholder","key","formControlName","key","required",""],[4,"ngIf"],["matInput","","type","text","name","title","placeholder","title","formControlName","title","required",""],["matInput","","type","number","min","0","name","limit_min","placeholder","limit min","formControlName","limit_min","required",""],["matInput","","type","number","min","0","name","limit_max","placeholder","limit max","formControlName","limit_max","required",""],["name","limit_reset","placeholder","limit reset","formControlName","limit_reset","required",""],[3,"value"],["matInput","","type","number","name","amount","placeholder","amount","formControlName","amount","required",""],["matInput","","type","number","name","quantity","placeholder","quantity","formControlName","quantity","required",""],["name","promotion_enabled","placeholder","promotion enabled","formControlName","promotion_enabled","required",""],["matInput","","type","number","min","0","name","promotion_amount","placeholder","promotion amount","formControlName","promotion_amount","required",""],["matInput","","name","description","placeholder","description","formControlName","description","required",""],["type","submit","mat-flat-button","","color","primary"]],template:function(t,e){1&t&&(c.Ub(0,"mat-toolbar",0),c.Ub(1,"div",1),c.xc(2),c.Tb(),c.Ub(3,"button",2),c.cc("click",(function(){return e.close()})),c.Ub(4,"mat-icon"),c.xc(5," close "),c.Tb(),c.Tb(),c.Tb(),c.Ub(6,"form",3),c.cc("ngSubmit",(function(){return!e.form.invalid&&e.submit()})),c.Ub(7,"section"),c.Ub(8,"mat-form-field",4),c.Ub(9,"mat-label",5),c.xc(10," key "),c.Tb(),c.Pb(11,"input",6),c.wc(12,ge,2,1,"mat-error",7),c.Tb(),c.Ub(13,"mat-form-field",4),c.Ub(14,"mat-label",5),c.xc(15," title "),c.Tb(),c.Pb(16,"input",8),c.wc(17,_e,2,1,"mat-error",7),c.Tb(),c.Tb(),c.Ub(18,"section"),c.Ub(19,"mat-form-field",4),c.Ub(20,"mat-label",5),c.xc(21," limit min "),c.Tb(),c.Pb(22,"input",9),c.wc(23,ye,2,1,"mat-error",7),c.Tb(),c.Ub(24,"mat-form-field",4),c.Ub(25,"mat-label",5),c.xc(26," limit max "),c.Tb(),c.Pb(27,"input",10),c.wc(28,ve,2,1,"mat-error",7),c.Tb(),c.Tb(),c.Ub(29,"mat-form-field",4),c.Ub(30,"mat-label",5),c.xc(31," limit reset "),c.Tb(),c.Ub(32,"mat-select",11),c.Ub(33,"mat-option",12),c.xc(34," Reset to min every cycle "),c.Tb(),c.Ub(35,"mat-option",12),c.xc(36," Do not reset "),c.Tb(),c.Tb(),c.wc(37,Ce,2,1,"mat-error",7),c.Tb(),c.Ub(38,"section"),c.Ub(39,"mat-form-field",4),c.Ub(40,"mat-label",5),c.xc(41," amount "),c.Tb(),c.Pb(42,"input",13),c.wc(43,Oe,2,1,"mat-error",7),c.Tb(),c.Ub(44,"mat-form-field",4),c.Ub(45,"mat-label",5),c.xc(46," quantity "),c.Tb(),c.Pb(47,"input",14),c.wc(48,xe,2,1,"mat-error",7),c.Tb(),c.Tb(),c.Ub(49,"section"),c.Ub(50,"mat-form-field",4),c.Ub(51,"mat-label",5),c.xc(52," promotion "),c.Tb(),c.Ub(53,"mat-select",15),c.Ub(54,"mat-option",12),c.xc(55," Enabled "),c.Tb(),c.Ub(56,"mat-option",12),c.xc(57," Disabled "),c.Tb(),c.Tb(),c.wc(58,we,2,1,"mat-error",7),c.Tb(),c.Ub(59,"mat-form-field",4),c.Ub(60,"mat-label",5),c.xc(61," promotion amount "),c.Tb(),c.Pb(62,"input",16),c.wc(63,Te,2,1,"mat-error",7),c.Tb(),c.Tb(),c.Ub(64,"mat-form-field",4),c.Ub(65,"mat-label",5),c.xc(66," description "),c.Tb(),c.Pb(67,"textarea",17),c.wc(68,ke,2,1,"mat-error",7),c.Tb(),c.Ub(69,"button",18),c.xc(70," submit "),c.Tb(),c.Tb()),2&t&&(c.Cb(2),c.Ac(" ","add"==e.mode?"add tariff":""," ","copy"==e.mode?"copy tariff":""," ","update"==e.mode?"update tariff":""," "),c.Cb(4),c.mc("formGroup",e.form),c.Cb(6),c.mc("ngIf",e.errors.key),c.Cb(5),c.mc("ngIf",e.errors.title),c.Cb(6),c.mc("ngIf",e.errors.limit_min),c.Cb(5),c.mc("ngIf",e.errors.limit_max),c.Cb(5),c.mc("value",!0),c.Cb(2),c.mc("value",!1),c.Cb(2),c.mc("ngIf",e.errors.limit_reset),c.Cb(6),c.mc("ngIf",e.errors.amount),c.Cb(5),c.mc("ngIf",e.errors.quantity),c.Cb(6),c.mc("value",!0),c.Cb(2),c.mc("value",!1),c.Cb(2),c.mc("ngIf",e.errors.promotion_enabled),c.Cb(5),c.mc("ngIf",e.errors.promotion_amount),c.Cb(5),c.mc("ngIf",e.errors.description))},directives:[E.a,j.a,o.a,A.r,A.k,A.e,q.c,q.g,s.a,A.a,A.j,A.c,A.p,n.m,A.n,R.a,l.j,q.b],styles:[".currency[_ngcontent-%COMP%]{display:flex;font-size:16px;font-family:Arial;align-items:center;justify-content:center}form[_ngcontent-%COMP%]{width:400px;margin:auto}form[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{display:flex;flex-direction:row}form[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:0 calc(50% - 5px);width:calc(50% - 5px)}form[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]:last-child{margin-left:10px}@media screen and (max-width:420px){form[_ngcontent-%COMP%]{width:calc(100% - 20px)}}"]}),t})();var Me=i("xyCQ");let Ue=(()=>{class t{transform(t,e,i){return t.sort((t,n)=>t[e]<n[e]?i?1:-1:t[e]>n[e]?i?-1:1:0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Nb({name:"orderBy",type:t,pure:!0}),t})();function Pe(t,e){1&t&&c.Pb(0,"mat-progress-bar",26)}function Se(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.title," ")}}function De(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.cycles," ")}}function je(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.frequency," ")}}function Re(t,e){if(1&t&&(c.Ub(0,"mat-option",18),c.xc(1),c.Tb()),2&t){const t=e.$implicit;c.mc("value",t.appId),c.Cb(1),c.zc(" ",t.name," ")}}function Ee(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.appId," ")}}function qe(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.notify_enabled," ")}}function Ae(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.notify_url," ")}}function Fe(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.description," ")}}function Le(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.xc(1),c.Tb()),2&t){const t=c.gc();c.Cb(1),c.zc(" ",t.errors.organizationOnly," ")}}function ze(t,e){if(1&t){const t=c.Vb();c.Ub(0,"tr"),c.Ub(1,"td",27),c.xc(2),c.Tb(),c.Ub(3,"td",28),c.Ub(4,"button",29),c.Ub(5,"mat-icon"),c.xc(6," more_vert "),c.Tb(),c.Tb(),c.Ub(7,"mat-menu",null,30),c.Ub(9,"button",31),c.cc("click",(function(){c.qc(t);const i=e.$implicit;return c.gc().update(i.key,i.value)})),c.xc(10," Edit "),c.Tb(),c.Ub(11,"button",31),c.cc("click",(function(){c.qc(t);const i=e.$implicit;return c.gc().remove(i.key)})),c.xc(12," Remove "),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&t){const t=e.$implicit,i=c.oc(8);c.Cb(2),c.zc(" ",t.value.title," "),c.Cb(2),c.mc("matMenuTriggerFor",i)}}let Be=(()=>{class t{constructor(t,e,i,n,o,s,a){this.apps=t,this.route=e,this.toast=i,this.dialog=n,this.router=o,this.service=s,this.formerror=a,this.form=new A.d({title:new A.b("",[A.q.required]),appId:new A.b("",[A.q.required]),cycles:new A.b(0,[A.q.required]),frequency:new A.b("monthly",[A.q.required]),notify_url:new A.b(""),description:new A.b("",[A.q.required]),notify_enabled:new A.b(!1,[A.q.required]),organizationOnly:new A.b(0,[A.q.required])}),this.errors={title:"",appId:"",cycles:"",frequency:"",notify_url:"",description:"",notify_enabled:"",organizationOnly:""},this.tariff={},this.invoices={}}add(){return Object(Ot.a)(this,void 0,void 0,(function*(){const t=yield this.dialog.open(Ie,{data:{tariff:{limit:{min:0,max:0,reset:!1},promotion:{amount:0,enabled:!1},title:"",amount:0,quantity:0,description:""},key:"",mode:"add"},panelClass:"tariff-dialog",disableClose:!0});yield t.afterClosed().subscribe(t=>Object(Ot.a)(this,void 0,void 0,(function*(){t&&(this.tariff[t.key]=t.tariff)})))}))}get(){return Object(Ot.a)(this,void 0,void 0,(function*(){this.loading=!0;const t=yield this.service.get({filter:["role","title","appId","notify","tariff","cycles","planId","frequency","description","organizationOnly"],planId:this.planId});this.loading=!1,t.ok?(t.result.role<3&&(this.router.navigate(["/plans"]),this.toast.error("you do not have permission to access this plan!")),this.tariff=t.result.tariff,this.form.controls.appId.setValue(t.result.appId),this.form.controls.title.setValue(t.result.title),this.form.controls.cycles.setValue(t.result.cycles),this.form.controls.frequency.setValue(t.result.frequency),this.form.controls.notify_url.setValue(t.result.notify.url),this.form.controls.description.setValue(t.result.description),this.form.controls.notify_enabled.setValue(t.result.notify.enabled),this.form.controls.organizationOnly.setValue(t.result.organizationOnly)):(this.router.navigate(["/plans"]),this.toast.error("issue loading plan!")),this.load()}))}load(){return Object(Ot.a)(this,void 0,void 0,(function*(){this.loading=!0,yield this.apps.list({filter:["name","appId"]}),this.loading=!1}))}submit(){return Object(Ot.a)(this,void 0,void 0,(function*(){this.loading=!0;let t=this.mode;"copy"==t&&(t="add");let e=JSON.parse(JSON.stringify({notify:{url:this.form.value.notify_url,enabled:this.form.value.notify_enabled},title:this.form.value.title,appId:this.form.value.appId,tariff:this.tariff,planId:this.planId,cycles:this.form.value.cycles,frequency:this.form.value.frequency,description:this.form.value.description,organizationOnly:this.form.value.organizationOnly}));this.form.disable();const i=yield this.service[t](e);this.form.enable(),this.loading=!1,i.ok?(this.router.navigate(["/plans"]),this.toast.success("add"==t?"plan was added!":"plan was updated!")):this.toast.success("add"==t?"there was an issue adding plan!":"there was an issue updating plan!")}))}remove(t){return Object(Ot.a)(this,void 0,void 0,(function*(){delete this.tariff[t]}))}update(t,e){return Object(Ot.a)(this,void 0,void 0,(function*(){const i=yield this.dialog.open(Ie,{data:{key:t,mode:"update",tariff:e},panelClass:"tariff-dialog",disableClose:!0});yield i.afterClosed().subscribe(e=>Object(Ot.a)(this,void 0,void 0,(function*(){e&&(this.tariff[t]=e.tariff)})))}))}ngOnInit(){this.invoices.form=this.form.valueChanges.subscribe(t=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)}),this.invoices.route=this.route.params.subscribe(t=>{this.mode=t.mode,this.planId=t.planId,"add"!=this.mode?this.get():this.load()}),this.invoices.notify=this.form.controls.notify_enabled.valueChanges.subscribe(t=>{t?(this.form.controls.notify_url.setValidators([A.q.required]),this.form.controls.notify_url.updateValueAndValidity()):(this.form.controls.notify_url.setValidators([]),this.form.controls.notify_url.updateValueAndValidity())})}ngOnDestroy(){this.invoices.form.unsubscribe(),this.invoices.route.unsubscribe(),this.invoices.notify.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(Me.a),c.Ob(ae.a),c.Ob(Dt.a),c.Ob(S),c.Ob(ae.b),c.Ob(re.a),c.Ob(wt.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-plan-editor"]],decls:78,vars:25,consts:[["color","primary"],[1,"page-label","spacer"],["mat-icon-button","","routerLink","/plans"],["mode","indeterminate","color","accent",4,"ngIf"],[3,"formGroup","ngSubmit"],["appearance","outline"],["text-uppercase",""],["matInput","","type","text","name","title","placeholder","title","formControlName","title","required",""],[4,"ngIf"],["matInput","","type","number","name","cycles","placeholder","cycles","formControlName","cycles","required",""],["name","frequency","placeholder","frequency","formControlName","frequency","required",""],["value","monthly"],["value","quarterly"],["value","biannually"],["value","annually"],["name","appId","placeholder","app","formControlName","appId","required","","multiple",""],[3,"value",4,"ngFor","ngForOf"],["name","notify_enabled","placeholder","notify api","formControlName","notify_enabled","required",""],[3,"value"],["matInput","","type","url","name","notify_url","placeholder","notify url","formControlName","notify_url",3,"required"],["matInput","","name","description","placeholder","description","formControlName","description","required",""],["name","organizationOnly","placeholder","sharing rules","formControlName","organizationOnly","required",""],[1,"tariff-container"],[4,"ngFor","ngForOf"],["type","button","mat-icon-button","",1,"add-tariff",3,"click"],["type","submit","mat-flat-button","","color","primary"],["mode","indeterminate","color","accent"],[1,"title"],[1,"more"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(t,e){1&t&&(c.Ub(0,"mat-toolbar",0),c.Ub(1,"div",1),c.xc(2),c.Tb(),c.Ub(3,"button",2),c.Ub(4,"mat-icon"),c.xc(5," close "),c.Tb(),c.Tb(),c.Tb(),c.wc(6,Pe,1,0,"mat-progress-bar",3),c.Ub(7,"form",4),c.cc("ngSubmit",(function(){return!e.form.invalid&&e.submit()})),c.Ub(8,"mat-form-field",5),c.Ub(9,"mat-label",6),c.xc(10," title "),c.Tb(),c.Pb(11,"input",7),c.wc(12,Se,2,1,"mat-error",8),c.Tb(),c.Ub(13,"mat-form-field",5),c.Ub(14,"mat-label",6),c.xc(15," cycles "),c.Tb(),c.Pb(16,"input",9),c.wc(17,De,2,1,"mat-error",8),c.Tb(),c.Ub(18,"mat-form-field",5),c.Ub(19,"mat-label",6),c.xc(20," frequency "),c.Tb(),c.Ub(21,"mat-select",10),c.Ub(22,"mat-option",11),c.xc(23," Monthly "),c.Tb(),c.Ub(24,"mat-option",12),c.xc(25," Quarterly "),c.Tb(),c.Ub(26,"mat-option",13),c.xc(27," Biannually "),c.Tb(),c.Ub(28,"mat-option",14),c.xc(29," Annually "),c.Tb(),c.Tb(),c.wc(30,je,2,1,"mat-error",8),c.Tb(),c.Ub(31,"mat-form-field",5),c.Ub(32,"mat-label",6),c.xc(33," app "),c.Tb(),c.Ub(34,"mat-select",15),c.wc(35,Re,2,2,"mat-option",16),c.hc(36,"orderBy"),c.Tb(),c.wc(37,Ee,2,1,"mat-error",8),c.Tb(),c.Ub(38,"section"),c.Ub(39,"mat-form-field",5),c.Ub(40,"mat-label",6),c.xc(41," notify api "),c.Tb(),c.Ub(42,"mat-select",17),c.Ub(43,"mat-option",18),c.xc(44," Enabled "),c.Tb(),c.Ub(45,"mat-option",18),c.xc(46," Disabled "),c.Tb(),c.Tb(),c.wc(47,qe,2,1,"mat-error",8),c.Tb(),c.Ub(48,"mat-form-field",5),c.Ub(49,"mat-label",6),c.xc(50," notify url "),c.Tb(),c.Pb(51,"input",19),c.wc(52,Ae,2,1,"mat-error",8),c.Tb(),c.Tb(),c.Ub(53,"mat-form-field",5),c.Ub(54,"mat-label",6),c.xc(55," description "),c.Tb(),c.Pb(56,"textarea",20),c.wc(57,Fe,2,1,"mat-error",8),c.Tb(),c.Ub(58,"mat-form-field",5),c.Ub(59,"mat-label",6),c.xc(60," sharing rules "),c.Tb(),c.Ub(61,"mat-select",21),c.Ub(62,"mat-option",18),c.xc(63," Anyone Can Share "),c.Tb(),c.Ub(64,"mat-option",18),c.xc(65," In Organization Only "),c.Tb(),c.Tb(),c.wc(66,Le,2,1,"mat-error",8),c.Tb(),c.Ub(67,"div",22),c.Ub(68,"label",6),c.xc(69," tariff * "),c.Tb(),c.Ub(70,"table"),c.wc(71,ze,13,2,"tr",23),c.hc(72,"keyvalue"),c.Tb(),c.Ub(73,"button",24),c.cc("click",(function(){return e.add()})),c.Ub(74,"mat-icon"),c.xc(75," add "),c.Tb(),c.Tb(),c.Tb(),c.Ub(76,"button",25),c.xc(77," submit "),c.Tb(),c.Tb()),2&t&&(c.Cb(2),c.Ac(" ","add"==e.mode?"add plan":""," ","copy"==e.mode?"copy plan":""," ","update"==e.mode?"update plan":""," "),c.Cb(4),c.mc("ngIf",e.loading),c.Cb(1),c.mc("formGroup",e.form),c.Cb(5),c.mc("ngIf",e.errors.title),c.Cb(5),c.mc("ngIf",e.errors.cycles),c.Cb(13),c.mc("ngIf",e.errors.frequency),c.Cb(5),c.mc("ngForOf",c.jc(36,20,e.apps.data,"name")),c.Cb(2),c.mc("ngIf",e.errors.appId),c.Cb(6),c.mc("value",!0),c.Cb(2),c.mc("value",!1),c.Cb(2),c.mc("ngIf",e.errors.notify_enabled),c.Cb(4),c.mc("required",e.form.value.notify_enabled),c.Cb(1),c.mc("ngIf",e.errors.notify_url),c.Cb(5),c.mc("ngIf",e.errors.description),c.Cb(5),c.mc("value",0),c.Cb(2),c.mc("value",1),c.Cb(2),c.mc("ngIf",e.errors.organizationOnly),c.Cb(5),c.mc("ngForOf",c.ic(72,23,e.tariff)))},directives:[E.a,j.a,ae.c,o.a,n.m,A.r,A.k,A.e,q.c,q.g,s.a,A.a,A.j,A.c,A.p,A.n,R.a,l.j,n.l,ce.a,q.b,ht,mt,ot],pipes:[Ue,n.g],styles:["form[_ngcontent-%COMP%]{width:400px;margin:auto}form[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{display:flex;flex-direction:row}form[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:0 calc(50% - 5px);width:calc(50% - 5px)}form[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]:last-child{margin-left:10px}.tariff-container[_ngcontent-%COMP%]{border:1px solid #e0e0e0;display:flex;position:relative;min-width:50px;margin-bottom:15px;border-radius:4px;flex-direction:column;justify-content:center}.tariff-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{top:-3px;left:5px;color:#616161;padding:0 3px;position:absolute;font-size:10px;line-height:10px;background-color:#fff}.tariff-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{width:40px}.tariff-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:8px}.tariff-container[_ngcontent-%COMP%]   .add-tariff[_ngcontent-%COMP%]{width:40px;margin:auto}@media screen and (max-width:420px){form[_ngcontent-%COMP%]{width:calc(100% - 20px)}}"]}),t})();const Ne=[{path:"",component:fe},{path:":mode",component:Be},{path:":mode/:planId",component:Be}];let Ye=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},imports:[[ae.e.forChild(Ne)],ae.e]}),t})(),Ve=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},imports:[[A.f,F,n.c,L,z.a,o.b,ft,s.b,gt.l,R.b,D,j.b,_t,E.b,Ct,vt,yt,Ye,q.e,A.o,Qt,ce.b]]}),t})()}}]);